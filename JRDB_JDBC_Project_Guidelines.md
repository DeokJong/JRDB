# JRDB 및 JDBC 연계 프로젝트 지침 및 가이드라인

## 1. 개요

이 프로젝트의 목표는 C++를 사용해 관계형 데이터베이스(RDB)를 직접 제작하는 것입니다. 최종 목표는 Java 애플리케이션이 JDBC 드라이버를 통해 우리 DB와 원활하게 통신하도록 지원하는 것입니다. 이를 통해 데이터 모델링, SQL 처리, 트랜잭션 관리 등 DB의 핵심 기능뿐 아니라, Java와의 연계를 통한 실무적 활용까지 경험할 수 있습니다.

***이 데이터베이스는 제 이름을 따서 JRDB 라고 짓습니다.***

## 2. 프로젝트 목표

- **RDB 기능 구현:**
  - 관계형 데이터 모델 및 스키마 설계
  - SQL 기반 쿼리 파서 및 실행 엔진 (SELECT, INSERT, UPDATE, DELETE 등 기본 연산 지원)
  - 인덱스(B-트리 등)와 조인(join) 처리 알고리즘 구현
  - 트랜잭션 관리 및 ACID 보장 (잠금, 동시성 제어, 로그 기록/복구)
- **JDBC 연계:**
  - Java 애플리케이션에서 접근할 수 있도록 JDBC 드라이버 인터페이스 설계
  - JDBC API 규격 준수를 위한 프로토콜 및 통신 모듈 구현
  - 네트워크 또는 IPC를 통한 DB 서버와의 연결 지원 (예: TCP/IP 소켓 기반 통신)

## 3. 프로젝트 범위 및 주요 모듈

- **저장 엔진 (Storage Engine):**
  - 데이터의 물리적 저장, 페이지 관리, 파일 I/O 최적화
  - 테이블, 인덱스, 스키마 관리
- **쿼리 처리기 (Query Processor):**
  - SQL 파서 및 실행 계획 수립
  - 쿼리 최적화, 실행 엔진 (기본적인 관계형 연산 지원)
- **트랜잭션 관리자 (Transaction Manager):**
  - ACID 원칙 구현, 잠금 메커니즘, 동시성 제어
  - 로그 기록, 체크포인트, 복구 메커니즘
- **버퍼/캐시 관리자 (Buffer Manager & Caching):**
  - 메모리와 디스크 간 데이터 이동 최적화
  - 캐시 정책 및 버퍼 풀 관리
- **JDBC 연결 모듈 (JDBC Connector):**
  - DB 서버와의 네트워크 인터페이스 설계
  - Java에서 호출 가능한 JDBC 드라이버 구현 (Java 드라이버가 DB와 통신할 수 있도록 프로토콜 정의 및 API 제공)

## 4. 기술 스택 및 선택 언어

- **주요 언어:**
  - C++ (최신 표준 권장: C++17 이상) – DB 핵심 기능 및 시스템 프로그래밍
- **JDBC 드라이버:**
  - Java – JDBC 드라이버 구현 및 Java 애플리케이션 연계
  - 또는, C++와 Java 간 통신을 위해 JNI 또는 소켓 기반 통신 활용
- **빌드 및 관리 도구:**
  - CMake (빌드 시스템)
  - Git (버전 관리)
  - Doxygen (문서화)

## 5. 시스템 요구사항

- **운영체제:** Linux, Windows, macOS 등
- **하드웨어:** 최소 4GB 메모리, 충분한 디스크 공간
- **필수 라이브러리:** STL, Boost(필요 시), POSIX API(리눅스/유닉스 환경)

## 6. 아키텍처 설계

- **레이어드 아키텍처:**
  - **저수준 레이어:** 파일 I/O, 시스템 콜, 버퍼 및 캐시 관리
  - **중간 레이어:** 저장 엔진, 인덱스 및 쿼리 처리, 트랜잭션 관리
  - **고수준 레이어:** SQL 인터페이스, JDBC 연결 모듈 및 네트워크 통신
- **모듈 간 인터페이스:**
  - 각 모듈은 명확한 API와 데이터 구조(예: 테이블, 레코드, 페이지)를 공유
  - JDBC 연결 모듈은 네트워크 프로토콜(또는 JNI 인터페이스)을 통해 Java와 통신하며, SQL 요청 및 결과를 주고받도록 설계

## 7. 프로젝트 파일 구조 및 구성

```txt
RDB_Project/
├── README.md              # 프로젝트 개요, 빌드/설치, JDBC 연계 방법 등
├── docs/                  # 설계 문서, API 문서, 사용자 매뉴얼, JDBC 스펙 문서
├── src/                   # 소스 코드 디렉터리
│   ├── main.cpp           # 애플리케이션 진입점 및 초기화
│   ├── storage/           # 저장 엔진 관련 코드 (테이블, 페이지 관리 등)
│   │   ├── StorageEngine.h
│   │   └── StorageEngine.cpp
│   ├── query/             # SQL 파서 및 실행 엔진
│   │   ├── SQLParser.h
│   │   └── SQLParser.cpp
│   ├── transaction/       # 트랜잭션 관리자, 잠금 및 로그 처리
│   │   ├── TransactionManager.h
│   │   └── TransactionManager.cpp
│   ├── index/             # 인덱스 모듈 (예: B-트리/B+트리 구현)
│   │   ├── BTree.h
│   │   └── BTree.cpp
│   ├── buffer/            # 버퍼 풀, 캐시 및 메모리 관리
│   │   ├── BufferManager.h
│   │   └── BufferManager.cpp
│   └── network/           # JDBC 연계 및 네트워크 통신 모듈
│       ├── Protocol.h     # JDBC 연결을 위한 커스텀 프로토콜 정의
│       ├── Protocol.cpp
│       ├── ServerConnector.h
│       └── ServerConnector.cpp
├── jdbc_driver/           # (옵션) Java 기반 JDBC 드라이버 소스 코드
│   ├── src/
│   │   ├── CustomDriver.java   # JDBC 드라이버 구현 (java.sql.Driver 구현)
│   │   └── Connection.java     # DB 연결 및 통신 처리
│   └── build.gradle / pom.xml  # 빌드 및 의존성 관리 파일 (Maven 또는 Gradle)
├── CMakeLists.txt         # C++ 빌드 설정 파일
└── tests/                 # 단위 테스트 및 통합 테스트 코드
    ├── test_storage.cpp
    ├── test_query.cpp
    ├── test_transaction.cpp
    └── test_network.cpp   # 네트워크 및 JDBC 통신 테스트
```

## 8. 개발 가이드라인

- **코딩 표준 및 문서화:**
  - C++ Core Guidelines 준수, 일관된 네이밍 및 주석 처리
  - Doxygen을 통해 자동 문서화
- **모듈화:**
  - 각 모듈은 독립적으로 테스트 가능하도록 설계
  - 모듈 간 인터페이스(API)를 명확하게 정의하여 유지보수 및 확장성 보장
- **JDBC 연계:**
  - Java JDBC 드라이버는 java.sql.Driver 인터페이스를 구현
  - DB 서버와의 통신은 정의한 프로토콜에 따라 구현하며, 안정적인 연결과 에러 처리를 지원
  - JDBC 사용자를 위한 샘플 코드 및 사용 예제를 문서에 포함
- **버전 관리 및 협업:**
  - Git을 통한 체계적인 소스 코드 관리
  - 커밋 메시지와 이슈 관리 체계 확립
- **테스트:**
  - 단위 테스트와 통합 테스트를 통해 각 모듈의 기능 검증
  - 네트워크/통신, SQL 쿼리 처리, 트랜잭션, JDBC 연계 부분에 대한 자동화된 테스트 환경 구축

## 9. ChatGPT의 프로젝트 기능 활용 지침

- **파일 생성 및 관리:**
  - 예시 명령어:
    - 파일 생성: `create_file("src/storage/StorageEngine.h", "내용")`
    - 파일 수정: `update_file("README.md", "수정된 내용")`
    - 파일 조회: `open_file("docs/설계서.md")`
- **문서 작성 지원:**
  - 프로젝트 관련 문서(설계서, API 문서, JDBC 스펙 문서 등)의 초안 작성 및 업데이트
- **코드 예시 제공:**
  - 각 모듈별 코드 스니펫, 알고리즘 구현 예시, 그리고 JDBC 드라이버 예제 코드 제공 요청 가능
- **프로젝트 구조 설명:**
  - 파일 및 디렉터리 구조에 대한 설명과 개선 방향 제시

## 10. 프로젝트 일정 및 마일스톤

- **1단계: 기획 및 설계 (1-2주)**
  - RDB 스키마, SQL 파서, 저장 엔진, 트랜잭션 관리 및 JDBC 연계 요구사항 정의
  - 전체 아키텍처 및 모듈 간 인터페이스 설계 완료
- **2단계: 핵심 모듈 개발 (3-4주)**
  - 저장 엔진, SQL 파서, 인덱스, 트랜잭션 관리자, 버퍼/캐시 관리자 구현 및 단위 테스트
- **3단계: JDBC 연계 및 네트워크 모듈 개발 (2-3주)**
  - 커스텀 프로토콜 설계 및 서버-클라이언트 통신 구현
  - Java 기반 JDBC 드라이버 개발 및 연계 테스트
- **4단계: 통합, 성능 튜닝 및 문서화 (2주)**
  - 전체 모듈 통합, 성능 분석, 최적화 및 통합 테스트
  - 최종 사용자 매뉴얼 및 개발 문서 정리
- **5단계: 최종 배포 및 유지보수**
  - 코드 정리, 문서 업데이트 및 사용자 피드백 반영

## 11. 참고 자료 및 권장 학습 자료

- **C++ Core Guidelines**
- **관계형 데이터베이스 원리 및 SQL 관련 서적:**
  - "Database System Concepts"
  - "SQL Fundamentals"
- **JDBC API 문서 및 예제:**
  - Oracle의 JDBC 개발자 가이드
- **오픈 소스 DB 시스템:**
  - SQLite, PostgreSQL 소스 코드 참고
